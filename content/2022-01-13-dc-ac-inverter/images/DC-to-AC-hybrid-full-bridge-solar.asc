Version 4
SHEET 1 2200 836
WIRE 1152 0 1104 0
WIRE 1168 0 1152 0
WIRE 1472 0 1424 0
WIRE 1488 0 1472 0
WIRE 176 16 -112 16
WIRE 368 16 176 16
WIRE 176 32 176 16
WIRE 368 32 368 16
WIRE 1104 32 1104 0
WIRE 1424 32 1424 0
WIRE 80 48 64 48
WIRE 128 48 80 48
WIRE 272 48 256 48
WIRE 320 48 272 48
WIRE -112 128 -112 16
WIRE 128 128 128 96
WIRE 320 128 320 96
WIRE 1104 144 1104 112
WIRE 1424 144 1424 112
WIRE 176 160 176 112
WIRE 560 160 176 160
WIRE 592 160 560 160
WIRE -112 272 -112 208
WIRE 176 272 176 160
WIRE 368 272 368 112
WIRE 512 272 368 272
WIRE 544 272 512 272
WIRE 592 272 592 240
WIRE 592 272 544 272
WIRE 1104 272 1056 272
WIRE 1232 272 1184 272
WIRE 1280 272 1232 272
WIRE 1424 272 1376 272
WIRE 1568 272 1504 272
WIRE 1616 272 1568 272
WIRE 80 288 64 288
WIRE 128 288 80 288
WIRE 288 288 272 288
WIRE 320 288 288 288
WIRE -112 384 -112 352
WIRE 176 384 176 352
WIRE 176 384 -112 384
WIRE 368 384 368 352
WIRE 368 384 176 384
WIRE 1712 416 1664 416
WIRE 1872 416 1792 416
WIRE 1904 416 1872 416
WIRE -112 432 -112 384
WIRE -112 448 -112 432
WIRE 1184 480 1136 480
WIRE 1344 480 1264 480
WIRE 1376 480 1344 480
WIRE 288 496 -112 496
WIRE 544 496 544 272
WIRE 544 496 288 496
WIRE 288 528 288 496
FLAG 320 128 0
FLAG 128 128 0
FLAG 128 336 0
FLAG 320 336 0
FLAG 80 48 S11_ctrl
FLAG 288 288 S22_ctrl
FLAG 272 48 S21_ctrl
FLAG 80 288 S12_ctrl
FLAG 1104 144 0
FLAG 1424 144 0
FLAG 1152 0 control
FLAG 1472 0 carrier
FLAG 1056 272 0
FLAG 1136 480 0
FLAG 1232 272 S11_ctrl
FLAG 1344 480 S22_ctrl
FLAG 1376 272 0
FLAG 1664 416 0
FLAG 1568 272 S12_ctrl
FLAG 1872 416 S21_ctrl
FLAG 560 160 AC_L
FLAG 512 272 AC_N
FLAG 288 528 0
SYMBOL sw 176 128 M180
WINDOW 3 24 -12 Left 2
SYMATTR InstName S1
SYMBOL sw 176 368 M180
WINDOW 3 24 -12 Left 2
SYMATTR InstName S2
SYMBOL sw 368 128 M180
WINDOW 3 24 -12 Left 2
SYMATTR InstName S3
SYMBOL sw 368 368 M180
WINDOW 3 24 -12 Left 2
SYMATTR InstName S4
SYMBOL cap -128 432 R0
SYMATTR InstName C1
SYMATTR Value 15n
SYMATTR SpiceLine Rser=100m
SYMBOL res 576 144 R0
SYMATTR InstName R1
SYMATTR Value {R1}
SYMBOL voltage 1104 16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value SINE(0 {M*10} 50)
SYMBOL voltage 1424 16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 10 0 {0.5/fs} {0.5/fs} 0 {1/fs})
SYMBOL bv 1200 272 R90
WINDOW 3 32 56 VTop 2
WINDOW 0 -32 56 VBottom 2
SYMATTR Value v=if(v(control)>=0,10,0)
SYMATTR InstName B11
SYMBOL bv 1280 480 R90
WINDOW 3 41 -3 VTop 2
WINDOW 0 -32 56 VBottom 2
SYMATTR Value v=if(  (v(control) > 0 & v(control)>v(carrier)) | (v(control) < 0 & -v(control) < v(carrier)),10,0)
SYMATTR InstName B22
SYMBOL bv 1520 272 R90
WINDOW 3 32 56 VTop 2
WINDOW 0 -32 56 VBottom 2
SYMATTR Value v=if(v(control)<0,10,0)
SYMATTR InstName B12
SYMBOL bv 1808 416 R90
WINDOW 3 32 56 VTop 2
WINDOW 0 -32 56 VBottom 2
SYMATTR Value v=if(v(S11_ctrl) == 10,0,10)
SYMATTR InstName B21
SYMBOL voltage -112 112 R0
SYMATTR InstName V4
SYMATTR Value {Vdc/2}
SYMBOL voltage -112 256 R0
SYMATTR InstName V5
SYMATTR Value {Vdc/2}
TEXT 8 624 Left 2 !.param Vout=220 Pout=500 Vdc=350\n.param fs=5000 M={Vout*sqrt(2)/Vdc} R1={(Vout * Vout) / Pout}\n.model sw sw(ron=1m roff=1meg vt=5)\n.tran 0 60ms 20ms\n.four 50Hz V(AC_L) I(R1)\n.measure _R1 param R1\n.measure _M param M \n.meas I_leakage RMS I(C1)
TEXT 624 -136 Left 2 ;Simulation of Hybrid PWM full-bridge Inverter in LTspice
TEXT -128 -144 Left 1 ;Voltage Controlled Switch\nArbitrary behavioral voltage
TEXT 696 -104 Left 2 ;https://bit.ly/3M3JgnR
